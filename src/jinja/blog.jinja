<!-- blog.jinja -->
<article class="blog" data-page="publications">

  <header>
    <h2 class="h2 article-title">Publications</h2>
  </header>

  <section class="blog-posts">

    <ul class="blog-posts-list">

      {% for post in blog.post %}

      <li class="blog-post-item">
        <a href="{{post.url}}" target="_blank">

          <figure class="blog-banner-box">
            <img src="{{post.image}}" alt="{{post.title}}" loading="lazy">
          </figure>

          <div class="blog-content">

            <div class="blog-meta">
              <p class="blog-category">{{post.category}}</p>

              <span class="dot"></span>

              <time datetime="{{post.datetime}}">{{post.datetime | format_date}}</time>
            </div>

            <h3 class="h3 blog-item-title">{{post.title}}</h3> </a>
            
            
              {% set sentences = post.subtitle.split('.') %}
              <p class="blog-text">
                {{ sentences[:2]|join('.') }}.
              </p>
              {% if sentences|length > 2 %}
                <button class="read-more-btn" onclick="toggleAbstract(this)" data-post-id="{{ loop.index }}">Read more</button>
              {% endif %}
              <p class="blog-text" id="abstract-{{ loop.index }}" style="display: none;">
                {{ post.subtitle }}
              </p>
            

          </div>

      </li>

      {% endfor %}

    </ul>

  </section>

</article>